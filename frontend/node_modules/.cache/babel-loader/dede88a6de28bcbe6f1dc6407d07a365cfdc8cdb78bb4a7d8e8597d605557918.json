{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ragha/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/ragha/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ragha/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ragha/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var BASE_URL=\"https://expense-tracker-fullstack-master.onrender.com\";var GlobalContext=/*#__PURE__*/React.createContext();export var GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),incomes=_useState2[0],setIncomes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),expenses=_useState4[0],setExpenses=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];// INCOMES\nvar addIncome=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(income){var _err$response,_err$response$data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(BASE_URL,\"add-income\"),income);case 3:getIncomes();_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setError((_err$response=_context.t0.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function addIncome(_x){return _ref2.apply(this,arguments);};}();var getIncomes=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(BASE_URL,\"get-incomes\"));case 2:response=_context2.sent;setIncomes(response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function getIncomes(){return _ref3.apply(this,arguments);};}();var deleteIncome=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-income/\").concat(id));case 2:getIncomes();case 3:case\"end\":return _context3.stop();}},_callee3);}));return function deleteIncome(_x2){return _ref4.apply(this,arguments);};}();var totalIncome=function totalIncome(){return incomes.reduce(function(acc,income){return acc+income.amount;},0);};// EXPENSES\nvar addExpense=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(expenseData){var _err$response2,_err$response2$data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post(\"\".concat(BASE_URL,\"add-expense\"),expenseData);case 3:getExpenses();_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);setError((_err$response2=_context4.t0.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message);case 9:case\"end\":return _context4.stop();}},_callee4,null,[[0,6]]);}));return function addExpense(_x3){return _ref5.apply(this,arguments);};}();var getExpenses=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(BASE_URL,\"get-expenses\"));case 2:response=_context5.sent;setExpenses(response.data);case 4:case\"end\":return _context5.stop();}},_callee5);}));return function getExpenses(){return _ref6.apply(this,arguments);};}();var deleteExpense=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-expense/\").concat(id));case 2:getExpenses();case 3:case\"end\":return _context6.stop();}},_callee6);}));return function deleteExpense(_x4){return _ref7.apply(this,arguments);};}();var totalExpenses=function totalExpenses(){return expenses.reduce(function(acc,expense){return acc+expense.amount;},0);};var totalBalance=function totalBalance(){return totalIncome()-totalExpenses();};var transactionHistory=function transactionHistory(){var history=[].concat(_toConsumableArray(incomes),_toConsumableArray(expenses));return history.sort(function(a,b){return new Date(b.createdAt)-new Date(a.createdAt);}).slice(0,3);};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{addIncome:addIncome,getIncomes:getIncomes,incomes:incomes,deleteIncome:deleteIncome,expenses:expenses,totalIncome:totalIncome,addExpense:addExpense,getExpenses:getExpenses,deleteExpense:deleteExpense,totalExpenses:totalExpenses,totalBalance:totalBalance,transactionHistory:transactionHistory,error:error,setError:setError},children:children});};export var useGlobalContext=function useGlobalContext(){return useContext(GlobalContext);};","map":{"version":3,"names":["React","useContext","useState","axios","BASE_URL","GlobalContext","createContext","GlobalProvider","children","incomes","setIncomes","expenses","setExpenses","error","setError","addIncome","income","post","getIncomes","response","data","message","get","deleteIncome","id","delete","totalIncome","reduce","acc","amount","addExpense","expenseData","getExpenses","deleteExpense","totalExpenses","expense","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","useGlobalContext"],"sources":["C:/Users/ragha/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://expense-tracker-fullstack-master.onrender.com\";\r\n\r\nconst GlobalContext = React.createContext();\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  // INCOMES\r\n  const addIncome = async (income) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-income`, income);\r\n      getIncomes();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message);\r\n    }\r\n  };\r\n\r\n  const getIncomes = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-incomes`);\r\n    setIncomes(response.data);\r\n  };\r\n\r\n  const deleteIncome = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-income/${id}`);\r\n    getIncomes();\r\n  };\r\n\r\n  const totalIncome = () => {\r\n    return incomes.reduce((acc, income) => acc + income.amount, 0);\r\n  };\r\n\r\n  // EXPENSES\r\n  const addExpense = async (expenseData) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-expense`, expenseData);\r\n      getExpenses();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message);\r\n    }\r\n  };\r\n\r\n  const getExpenses = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-expenses`);\r\n    setExpenses(response.data);\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-expense/${id}`);\r\n    getExpenses();\r\n  };\r\n\r\n  const totalExpenses = () => {\r\n    return expenses.reduce((acc, expense) => acc + expense.amount, 0);\r\n  };\r\n\r\n  const totalBalance = () => {\r\n    return totalIncome() - totalExpenses();\r\n  };\r\n\r\n  const transactionHistory = () => {\r\n    const history = [...incomes, ...expenses];\r\n    return history\r\n      .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n      .slice(0, 3);\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        addIncome,\r\n        getIncomes,\r\n        incomes,\r\n        deleteIncome,\r\n        expenses,\r\n        totalIncome,\r\n        addExpense,\r\n        getExpenses,\r\n        deleteExpense,\r\n        totalExpenses,\r\n        totalBalance,\r\n        transactionHistory,\r\n        error,\r\n        setError,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}